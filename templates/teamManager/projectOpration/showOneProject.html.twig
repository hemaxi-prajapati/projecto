{% extends 'base.html.twig' %}

{% block title %}
	Project Details
	{{ parent() }}
{% endblock %}

{% block navbar_options %}
	{{ include('teamManager/parts/_navbar_tm.html.twig') }}
{% endblock %}

{% block OprationPannel %}
	<h1>Project Details</h1>
	<a href="{{ path('show_projects') }}" class="btn btn-primary">Back</a>
{% endblock %}

{% block body %}
	<div class="container">
		<div class="d-flex flex-column mt-3">
			<div class="d-flex justify-content-center w-100 mt-3">
				<div class="card border-primary w-100">
					<div class="card-header bg-primary text-white">
						<h4 class="card-title mb-0">Project Details</h4>
					</div>
					<div class="card-body">
						<h6 class="card-subtitle mb-2 text-muted">Project Name:</h6>
						<p class="card-text">{{ project.name }}</p>
						<h6 class="card-subtitle mb-2 text-muted">Project Description:</h6>
						<p class="card-text">{{ project.Description }}</p>
						<h6 class="card-subtitle mb-2 text-muted">Project Project Manager:</h6>
						<p class="card-text">{{ project.ProjectManager.Name }}</p>
						<h6 class="card-subtitle mb-2 text-muted">Project Start date:</h6>
						<p class="card-text">
							<span class="badge bg-secondary">{{ project.startDate|date('d-m-y') }}</span>
						</p>
						<h6 class="card-subtitle mb-2 text-muted">Project End date:</h6>
						<p class="card-text">
							<span class="badge bg-secondary">{{ project.endDate|date('d-m-y') }}</span>
						</p>
						<h6 class="card-subtitle mb-2 text-muted">Project Status:</h6>
						<span class="badge bg-success">{{ project.Status }}</span>
					</div>
					{% if project.UrlAttachment %}
						<div class="card-footer text-center">
							<button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
								Open Attachment
							</button>
						</div>
						<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
							<div class="modal-dialog modal-xl">
								<div class="modal-content">
									<embed src="{{ project.UrlAttachment }}" width="100%" height="600" type="application/pdf">
								</div>
							</div>
						</div>
					{% endif %}
				</div>
			</div>
			<div>
				<h2>Project Task</h2>
				{{ include('parts/_show_tasks.html.twig') }}
			</div>
			<div class="mt-3">
				<h2>Project team</h2>
				{{ include('parts/_show_employee.html.twig') }}
			</div>
		</div>
	</div>
{% endblock %}
