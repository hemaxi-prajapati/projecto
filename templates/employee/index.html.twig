{% extends 'base.html.twig' %}

{% block title %}Employee Dashboard
{% endblock %}

{% block navbar_options %}
	{{ include('employee/parts/_navbar_employee.html.twig') }}
{% endblock %}

{% block body %}
	<div class="container-fluid mt-3" style="padding: 20px 100px">

		<div class="row justify-content-center">
			<h1>Tasks</h1>
		</div>

		<div class="row justify-content-center">
			<div class="col-lg-2 col-md-4 mb-3">
				<div class="card bg-primary text-white">
					<a class="nav-link" aria-current="page" href="{{ path('app_employee_tasks') }}">
						<div class="card-body text-center">
							<h5 class="card-title">Total Tasks</h5>
							<p class="card-text fs-2">{{ allTaskCount }}</p>
						</div>
					</a>
				</div>
			</div>

			<div class="col-lg-2 col-md-4 mb-3">
				<div class="card bg-danger text-white">
					<a class="nav-link" aria-current="page" href="{{ path('app_employee_tasks', {status: constant('App\\Entity\\TaskWithProject::TASK_STATUS_IN_PROGRESS'), count: inProgressTaskCount}) }}">
						<div class="card-body text-center">
							<h5 class="card-title">In Progress</h5>
							<p class="card-text fs-2">{{ inProgressTaskCount }}</p>
						</div>
					</a>
				</div>
			</div>

			<div class="col-lg-2 col-md-4 mb-3">
				<div class="card bg-secondary text-white">
					<a class="nav-link" aria-current="page" href="{{ path('app_employee_tasks', {status: constant('App\\Entity\\TaskWithProject::TASK_STATUS_OPEN'), count: openTaskCount}) }}">
						<div class="card-body text-center">
							<h5 class="card-title">Open</h5>
							<p class="card-text fs-2">{{ openTaskCount }}</p>
						</div>
					</a>
				</div>
			</div>

			<div class="col-lg-2 col-md-4 mb-3">
				<div class="card bg-warning text-dark">
					<a class="nav-link" aria-current="page" href="{{ path('app_employee_tasks', {status: constant('App\\Entity\\TaskWithProject::TASK_STATUS_ON_HOLD'), count: onHoldTaskCount}) }}">
						<div class="card-body text-center">
							<h5 class="card-title">On Hold</h5>
							<p class="card-text fs-2">{{ onHoldTaskCount }}</p>
						</div>
					</a>
				</div>
			</div>
			<div class="col-lg-2 col-md-4 mb-3">
				<div class="card bg-success text-white">
					<a class="nav-link" aria-current="page" href="{{ path('app_employee_tasks', {status: constant('App\\Entity\\TaskWithProject::TASK_STATUS_ON_HOLD'), count: onHoldTaskCount}) }}">
						<div class="card-body text-center">
							<h5 class="card-title">Completed</h5>
							<p class="card-text fs-2">{{ completedTaskCount }}</p>
						</div>
					</a>
				</div>
			</div>
		</div>

		<div class="row justify-content-center">
			<div class="col-lg-3 mb-4">
				<div class="card p-4 rounded" style="background-color: #f9f9f9;">
					<h3 class="text-center mb-4">Tasks</h3>
					{{ render_chart(chartTask) }}
				</div>
			</div>
			<div class="col-lg-3 mb-4">
				<div class="card p-4 rounded" style="background-color: #f9f9f9;">
					<h3 class="text-center mb-4">Project Status</h3>
					{{ render_chart(chartProject) }}
				</div>
			</div>
			<div class="col-lg-3">
				<div class="card p-4 rounded" style="background-color: #f9f9f9;">
					{{ render_chart(chart) }}
				</div>
			</div>
		</div>

	</div>
{% endblock %}
